(function(){"use strict";var t={3020:function(t,e,i){var a=i(3751),n=i(641),s=i(33);const l={class:"text-h6 mb-2"},o={class:"d-flex justify-space-between px-4"},r={class:"d-flex align-center justify-center pa-4"},u={class:"mx-2 text-caption"};function d(t,e,i,a,d,c){const g=(0,n.g2)("v-list-item"),p=(0,n.g2)("v-btn"),f=(0,n.g2)("v-card"),h=(0,n.g2)("v-col"),m=(0,n.g2)("v-row"),v=(0,n.g2)("v-container"),b=(0,n.g2)("v-data-iterator"),k=(0,n.g2)("v-card-text"),y=(0,n.g2)("v-spacer"),w=(0,n.g2)("v-card-actions"),_=(0,n.g2)("v-dialog");return(0,n.uX)(),(0,n.CE)(n.FK,null,[(0,n.bF)(f,null,{default:(0,n.k6)((()=>[(0,n.bF)(b,{items:d.items,"items-per-page":this.limit,page:d.page},{default:(0,n.k6)((({items:t})=>[(0,n.bF)(v,{class:"pa-2",fluid:""},{default:(0,n.k6)((()=>[(0,n.bF)(m,{dense:""},{default:(0,n.k6)((()=>[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(t,(t=>((0,n.uX)(),(0,n.Wv)(h,{key:t.ID,cols:"auto",md:"4"},{default:(0,n.k6)((()=>[(0,n.bF)(f,{class:"pb-3",border:"",flat:""},{default:(0,n.k6)((()=>[(0,n.bF)(g,{subtitle:t.raw.DETAIL_TEXT,class:"mb-2"},{title:(0,n.k6)((()=>[(0,n.Lk)("strong",l,(0,s.v_)(t.raw.NAME),1)])),_:2},1032,["subtitle"]),(0,n.Lk)("div",o,[(0,n.bF)(p,{class:"text-none",size:"small",text:"Подробнее",variant:"flat",border:"",onClick:e=>this.getNewsDetail(t.raw.ID)},null,8,["onClick"])])])),_:2},1024)])),_:2},1024)))),128))])),_:2},1024)])),_:2},1024)])),footer:(0,n.k6)((({page:t,pageCount:e,prevPage:i,nextPage:a})=>[(0,n.Lk)("div",r,[(0,n.bF)(p,{disabled:1===this.page,density:"comfortable",text:"<",variant:"tonal",rounded:"",onClick:t=>{this.page--,this.getNewsList()}},null,8,["disabled","onClick"]),(0,n.Lk)("div",u," Страница "+(0,s.v_)(this.page)+" из "+(0,s.v_)(this.pageCount),1),(0,n.bF)(p,{disabled:this.page>=this.pageCount,density:"comfortable",text:">",variant:"tonal",rounded:"",onClick:t=>{this.page++,this.getNewsList()}},null,8,["disabled","onClick"])])])),_:1},8,["items","items-per-page","page"])])),_:1}),(0,n.bF)(_,{"max-width":"50%",modelValue:d.dialogOpen,"onUpdate:modelValue":e[0]||(e[0]=t=>d.dialogOpen=t)},{default:(0,n.k6)((({isActive:t})=>[(0,n.bF)(f,{title:this.detail.NAME},{default:(0,n.k6)((()=>[(0,n.bF)(k,null,{default:(0,n.k6)((()=>[(0,n.eW)((0,s.v_)(this.detail.DETAIL_TEXT),1)])),_:1}),(0,n.bF)(w,null,{default:(0,n.k6)((()=>[(0,n.bF)(y),(0,n.bF)(p,{text:"Закрыть",onClick:e=>t.value=!1},null,8,["onClick"])])),_:2},1024)])),_:2},1032,["title"])])),_:1},8,["modelValue"])],64)}var c=i(4335),g={name:"news",components:{},data(){return{limit:6,page:1,pageCount:0,items:Array(),detail:"",isLoading:!1,isLoadingDetail:!1,dialogOpen:!1}},computed:{},mounted(){this.getNewsList()},methods:{async getNewsList(){this.isLoading=!0;let t=Math.round(this.totalItems/this.limit)-1;this.page>t&&this.page--;try{const t=await c.A.get("/marso.test/rest/getlist/",{params:{page:this.page,limit:this.limit}});this.items=t.data.ITEMS,this.totalItems=t.data.COUNT,this.pageCount=Math.round(this.totalItems/this.limit)-1}catch(e){alert(e)}finally{this.isLoading=!1}},async getNewsDetail(t){this.isLoadingDetail=!0;let e=Math.round(this.totalItems/this.limit)-1;this.page>e&&this.page--;try{const e=await c.A.get("http://172.19.110.3/marso.test/rest/getDetail/",{params:{id:t}});this.dialogOpen=!0,this.detail=e.data.ITEMS[0]}catch(i){alert(i)}finally{this.isLoadingDetail=!1}}}},p=i(6262);const f=(0,p.A)(g,[["render",d]]);var h=f,m=(i(5524),i(4825)),v=i(2938),b=i(3379),k=i(1050);const y=(0,m.$N)({components:v,directives:b,icons:{defaultSet:"mdi",aliases:k.z,sets:{mdi:k.r}}});let w=(0,a.Ef)(h);w.use(y).mount("#app")}},e={};function i(a){var n=e[a];if(void 0!==n)return n.exports;var s=e[a]={exports:{}};return t[a](s,s.exports,i),s.exports}i.m=t,function(){var t=[];i.O=function(e,a,n,s){if(!a){var l=1/0;for(d=0;d<t.length;d++){a=t[d][0],n=t[d][1],s=t[d][2];for(var o=!0,r=0;r<a.length;r++)(!1&s||l>=s)&&Object.keys(i.O).every((function(t){return i.O[t](a[r])}))?a.splice(r--,1):(o=!1,s<l&&(l=s));if(o){t.splice(d--,1);var u=n();void 0!==u&&(e=u)}}return e}s=s||0;for(var d=t.length;d>0&&t[d-1][2]>s;d--)t[d]=t[d-1];t[d]=[a,n,s]}}(),function(){i.d=function(t,e){for(var a in e)i.o(e,a)&&!i.o(t,a)&&Object.defineProperty(t,a,{enumerable:!0,get:e[a]})}}(),function(){i.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}}(),function(){var t={524:0};i.O.j=function(e){return 0===t[e]};var e=function(e,a){var n,s,l=a[0],o=a[1],r=a[2],u=0;if(l.some((function(e){return 0!==t[e]}))){for(n in o)i.o(o,n)&&(i.m[n]=o[n]);if(r)var d=r(i)}for(e&&e(a);u<l.length;u++)s=l[u],i.o(t,s)&&t[s]&&t[s][0](),t[s]=0;return i.O(d)},a=self["webpackChunkapp"]=self["webpackChunkapp"]||[];a.forEach(e.bind(null,0)),a.push=e.bind(null,a.push.bind(a))}();var a=i.O(void 0,[504],(function(){return i(3020)}));a=i.O(a)})();
//# sourceMappingURL=app.js.map
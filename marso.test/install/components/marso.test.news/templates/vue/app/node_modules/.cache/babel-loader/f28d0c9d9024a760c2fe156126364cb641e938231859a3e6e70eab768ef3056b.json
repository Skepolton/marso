{"ast":null,"code":"import { renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, createElementVNode as _createElementVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode, createBlock as _createBlock } from \"vue\";\nconst _hoisted_1 = {\n  class: \"text-h6 mb-2\"\n};\nconst _hoisted_2 = {\n  class: \"d-flex justify-space-between px-4\"\n};\nconst _hoisted_3 = {\n  class: \"d-flex align-center justify-center pa-4\"\n};\nconst _hoisted_4 = {\n  class: \"mx-2 text-caption\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_v_list_item = _resolveComponent(\"v-list-item\");\n  const _component_v_btn = _resolveComponent(\"v-btn\");\n  const _component_v_card = _resolveComponent(\"v-card\");\n  const _component_v_col = _resolveComponent(\"v-col\");\n  const _component_v_row = _resolveComponent(\"v-row\");\n  const _component_v_container = _resolveComponent(\"v-container\");\n  const _component_v_data_iterator = _resolveComponent(\"v-data-iterator\");\n  return _openBlock(), _createBlock(_component_v_card, null, {\n    default: _withCtx(() => [_createVNode(_component_v_data_iterator, {\n      items: $data.items,\n      \"items-per-page\": 6,\n      page: $data.page\n    }, {\n      default: _withCtx(({\n        items\n      }) => [_createVNode(_component_v_container, {\n        class: \"pa-2\",\n        fluid: \"\"\n      }, {\n        default: _withCtx(() => [_createVNode(_component_v_row, {\n          dense: \"\"\n        }, {\n          default: _withCtx(() => [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList(items, item => {\n            return _openBlock(), _createBlock(_component_v_col, {\n              key: item.ID,\n              cols: \"auto\",\n              md: \"4\"\n            }, {\n              default: _withCtx(() => [_createVNode(_component_v_card, {\n                class: \"pb-3\",\n                border: \"\",\n                flat: \"\"\n              }, {\n                default: _withCtx(() => [_createVNode(_component_v_list_item, {\n                  subtitle: item.raw.DETAIL_TEXT,\n                  class: \"mb-2\"\n                }, {\n                  title: _withCtx(() => [_createElementVNode(\"strong\", _hoisted_1, _toDisplayString(item.raw.NAME), 1 /* TEXT */)]),\n                  _: 2 /* DYNAMIC */\n                }, 1032 /* PROPS, DYNAMIC_SLOTS */, [\"subtitle\"]), _createElementVNode(\"div\", _hoisted_2, [_createVNode(_component_v_btn, {\n                  class: \"text-none\",\n                  size: \"small\",\n                  text: \"Подробнее\",\n                  variant: \"flat\",\n                  border: \"\"\n                })])]),\n                _: 2 /* DYNAMIC */\n              }, 1024 /* DYNAMIC_SLOTS */)]),\n              _: 2 /* DYNAMIC */\n            }, 1024 /* DYNAMIC_SLOTS */);\n          }), 128 /* KEYED_FRAGMENT */))]),\n          _: 2 /* DYNAMIC */\n        }, 1024 /* DYNAMIC_SLOTS */)]),\n        _: 2 /* DYNAMIC */\n      }, 1024 /* DYNAMIC_SLOTS */)]),\n      footer: _withCtx(({\n        page,\n        pageCount,\n        prevPage,\n        nextPage\n      }) => [_createElementVNode(\"div\", _hoisted_3, [_createVNode(_component_v_btn, {\n        disabled: page === 1,\n        density: \"comfortable\",\n        icon: \"mdi-arrow-left\",\n        variant: \"tonal\",\n        rounded: \"\",\n        onClick: prevPage\n      }, null, 8 /* PROPS */, [\"disabled\", \"onClick\"]), _createElementVNode(\"div\", _hoisted_4, \" Страница \" + _toDisplayString(page) + \" из \" + _toDisplayString(pageCount), 1 /* TEXT */), _createVNode(_component_v_btn, {\n        disabled: page >= pageCount,\n        density: \"comfortable\",\n        icon: \"mdi-arrow-right\",\n        variant: \"tonal\",\n        rounded: \"\",\n        onClick: $event => (this.getNewsList(), nextPage)\n      }, null, 8 /* PROPS */, [\"disabled\", \"onClick\"])])]),\n      _: 1 /* STABLE */\n    }, 8 /* PROPS */, [\"items\", \"page\"])]),\n    _: 1 /* STABLE */\n  });\n}","map":{"version":3,"names":["class","_createBlock","_component_v_card","default","_withCtx","_createVNode","_component_v_data_iterator","items","$data","page","_component_v_container","fluid","_component_v_row","dense","_createElementBlock","_Fragment","_renderList","item","_component_v_col","key","ID","cols","md","border","flat","_component_v_list_item","subtitle","raw","DETAIL_TEXT","title","_createElementVNode","_hoisted_1","_toDisplayString","NAME","_","_hoisted_2","_component_v_btn","size","text","variant","footer","pageCount","prevPage","nextPage","_hoisted_3","disabled","density","icon","rounded","onClick","_hoisted_4","$event","getNewsList"],"sources":["/home/bitrix/www/local/modules/marso.test/install/components/marso.test.news/templates/vue/app/src/App.vue"],"sourcesContent":["<template>\n  <v-card>\n    <v-data-iterator\n      :items=\"items\"\n      :items-per-page=\"6\"\n      :page=\"page\"\n\n    >\n      <template v-slot:default=\"{ items }\">\n        <v-container class=\"pa-2\" fluid>\n          <v-row dense>\n            <v-col\n              v-for=\"item in items\"\n              :key=\"item.ID\"\n              cols=\"auto\"\n              md=\"4\"\n            >\n              <v-card class=\"pb-3\" border flat>\n\n                <v-list-item :subtitle=\"item.raw.DETAIL_TEXT\" class=\"mb-2\">\n                  <template v-slot:title>\n                    <strong class=\"text-h6 mb-2\">{{ item.raw.NAME }}</strong>\n                  </template>\n                </v-list-item>\n\n                <div class=\"d-flex justify-space-between px-4\">\n                  <v-btn\n                    class=\"text-none\"\n                    size=\"small\"\n                    text=\"Подробнее\"\n                    variant=\"flat\"\n                    border\n                  >\n                  </v-btn>\n                </div>\n              </v-card>\n            </v-col>\n          </v-row>\n        </v-container>\n      </template>\n\n      <template v-slot:footer=\"{ page, pageCount, prevPage, nextPage }\">\n        <div class=\"d-flex align-center justify-center pa-4\">\n          <v-btn\n            :disabled=\"page === 1\"\n            density=\"comfortable\"\n            icon=\"mdi-arrow-left\"\n            variant=\"tonal\"\n            rounded\n            @click=\"prevPage\"\n          ></v-btn>\n\n          <div class=\"mx-2 text-caption\">\n            Страница {{ page }} из {{ pageCount }}\n          </div>\n\n          <v-btn\n            :disabled=\"page >= pageCount\"\n            density=\"comfortable\"\n            icon=\"mdi-arrow-right\"\n            variant=\"tonal\"\n            rounded\n            @click=\"this.getNewsList(),nextPage\"\n            \n          ></v-btn>\n        </div>\n      </template>\n    </v-data-iterator>\n  </v-card>\n</template>\n\n<script>\n// @ is an alias to /src\nimport axios from 'axios';\n//axios.defaults.params = {}\nexport default {\n  name: 'news',\n  components: {\n  },\n  data() {\n    return {\n      limit:10,\n      page: 1,\n      pageCount:0,\n      items: Array()\n    }\n  },\n  computed: {\n\n  },\n  mounted() {\n    this.getNewsList();\n  },\n  methods: {\n    async getNewsList(limit, page) {\n      this.isLoading = true;\n      let totalPages = this.totalItems / limit - 1;\n      if (page > totalPages) {\n        page--;\n      }\n      try {\n          const response = await axios.get('http://172.19.110.3/marso.test/rest/getlist/', {\n            params: {\n                page: page,\n                limit: limit,\n            }\n          });\n          console.log(this.page);\n          this.items = response.data.ITEMS;\n          console.log(this.items);\n          this.totalItems = response.data.total_count;\n      } catch (e) {\n          alert(e)\n      } finally {\n        this.isLoading = false;\n      }\n    },\n  }\n}\n\n</script>\n\n<style>\n</style>\n"],"mappings":";;EAqB4BA,KAAK,EAAC;AAAc;;EAI3BA,KAAK,EAAC;AAAmC;;EAiBjDA,KAAK,EAAC;AAAyC;;EAU7CA,KAAK,EAAC;AAAmB;;;;;;;;;uBAnDtCC,YAAA,CAmESC,iBAAA;IApEXC,OAAA,EAAAC,QAAA,CAEI,MAiEkB,CAjElBC,YAAA,CAiEkBC,0BAAA;MAhEfC,KAAK,EAAEC,KAAA,CAAAD,KAAK;MACZ,gBAAc,EAAE,CAAC;MACjBE,IAAI,EAAED,KAAA,CAAAC;;MAGUN,OAAO,EAAAC,QAAA,CACtB,CA6Bc;QA9BYG;MAAK,OAC/BF,YAAA,CA6BcK,sBAAA;QA7BDV,KAAK,EAAC,MAAM;QAACW,KAAK,EAAL;;QATlCR,OAAA,EAAAC,QAAA,CAUU,MA2BQ,CA3BRC,YAAA,CA2BQO,gBAAA;UA3BDC,KAAK,EAAL;QAAK;UAVtBV,OAAA,EAAAC,QAAA,CAYc,MAAqB,E,kBADvBU,mBAAA,CAyBQC,SAAA,QApCpBC,WAAA,CAY6BT,KAAK,EAAbU,IAAI;iCADbhB,YAAA,CAyBQiB,gBAAA;cAvBLC,GAAG,EAAEF,IAAI,CAACG,EAAE;cACbC,IAAI,EAAC,MAAM;cACXC,EAAE,EAAC;;cAfjBnB,OAAA,EAAAC,QAAA,CAiBc,MAkBS,CAlBTC,YAAA,CAkBSH,iBAAA;gBAlBDF,KAAK,EAAC,MAAM;gBAACuB,MAAM,EAAN,EAAM;gBAACC,IAAI,EAAJ;;gBAjB1CrB,OAAA,EAAAC,QAAA,CAmBgB,MAIc,CAJdC,YAAA,CAIcoB,sBAAA;kBAJAC,QAAQ,EAAET,IAAI,CAACU,GAAG,CAACC,WAAW;kBAAE5B,KAAK,EAAC;;kBACjC6B,KAAK,EAAAzB,QAAA,CACpB,MAAyD,CAAzD0B,mBAAA,CAAyD,UAAzDC,UAAyD,EAAAC,gBAAA,CAAzBf,IAAI,CAACU,GAAG,CAACM,IAAI,iB;kBArBjEC,CAAA;mEAyBgBJ,mBAAA,CASM,OATNK,UASM,GARJ9B,YAAA,CAOQ+B,gBAAA;kBANNpC,KAAK,EAAC,WAAW;kBACjBqC,IAAI,EAAC,OAAO;kBACZC,IAAI,EAAC,WAAW;kBAChBC,OAAO,EAAC,MAAM;kBACdhB,MAAM,EAAN;;gBA/BpBW,CAAA;;cAAAA,CAAA;;;UAAAA,CAAA;;QAAAA,CAAA;;MAyCuBM,MAAM,EAAApC,QAAA,CACrB,CAuBM;QAxBmBK,IAAI;QAAEgC,SAAS;QAAEC,QAAQ;QAAEC;MAAQ,OAC5Db,mBAAA,CAuBM,OAvBNc,UAuBM,GAtBJvC,YAAA,CAOS+B,gBAAA;QANNS,QAAQ,EAAEpC,IAAI;QACfqC,OAAO,EAAC,aAAa;QACrBC,IAAI,EAAC,gBAAgB;QACrBR,OAAO,EAAC,OAAO;QACfS,OAAO,EAAP,EAAO;QACNC,OAAK,EAAEP;wDAGVZ,mBAAA,CAEM,OAFNoB,UAEM,EAFyB,YACpB,GAAAlB,gBAAA,CAAGvB,IAAI,IAAG,MAAI,GAAAuB,gBAAA,CAAGS,SAAS,kBAGrCpC,YAAA,CAQS+B,gBAAA;QAPNS,QAAQ,EAAEpC,IAAI,IAAIgC,SAAS;QAC5BK,OAAO,EAAC,aAAa;QACrBC,IAAI,EAAC,iBAAiB;QACtBR,OAAO,EAAC,OAAO;QACfS,OAAO,EAAP,EAAO;QACNC,OAAK,EAAAE,MAAA,UAAOC,WAAW,IAAGT,QAAQ;;MA9D/CT,CAAA;;IAAAA,CAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
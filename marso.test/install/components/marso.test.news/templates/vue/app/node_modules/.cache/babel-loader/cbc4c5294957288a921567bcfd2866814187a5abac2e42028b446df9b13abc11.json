{"ast":null,"code":"import { renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, resolveComponent as _resolveComponent, mergeProps as _mergeProps, createVNode as _createVNode, createElementVNode as _createElementVNode, withCtx as _withCtx, createBlock as _createBlock } from \"vue\";\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_v_card = _resolveComponent(\"v-card\");\n  const _component_v_pagination = _resolveComponent(\"v-pagination\");\n  const _component_v_data_iterator = _resolveComponent(\"v-data-iterator\");\n  return _openBlock(), _createBlock(_component_v_data_iterator, {\n    items: $data.items,\n    page: $data.page\n  }, {\n    default: _withCtx(({\n      items\n    }) => [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList(items, (item, i) => {\n      return _openBlock(), _createElementBlock(_Fragment, {\n        key: i\n      }, [_createVNode(_component_v_card, _mergeProps({\n        ref_for: true\n      }, item.raw), null, 16 /* FULL_PROPS */), _cache[1] || (_cache[1] = _createElementVNode(\"br\", null, null, -1 /* HOISTED */))], 64 /* STABLE_FRAGMENT */);\n    }), 128 /* KEYED_FRAGMENT */)), _createVNode(_component_v_pagination, {\n      modelValue: $data.page,\n      \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => $data.page = $event),\n      length: $data.pageCount,\n      onInput: _ctx.onPageChange\n    }, null, 8 /* PROPS */, [\"modelValue\", \"length\", \"onInput\"])]),\n    _: 1 /* STABLE */\n  }, 8 /* PROPS */, [\"items\", \"page\"]);\n}","map":{"version":3,"names":["_createBlock","_component_v_data_iterator","items","$data","page","default","_withCtx","_createElementBlock","_Fragment","_renderList","item","i","key","_createVNode","_component_v_card","_mergeProps","ref_for","raw","_createElementVNode","_component_v_pagination","modelValue","_cache","$event","length","pageCount","onInput","_ctx","onPageChange","_"],"sources":["/home/bitrix/www/local/modules/marso.test/install/components/marso.test.news/templates/vue/app/src/App.vue"],"sourcesContent":["<template>\n<v-data-iterator :items=\"items\" :page=\"page\">\n  <template v-slot:default=\"{ items }\">\n    <template\n      v-for=\"(item, i) in items\"\n      :key=\"i\"\n    >\n      <v-card v-bind=\"item.raw\"></v-card>\n      <br>\n    </template>\n    <v-pagination\n      v-model=\"page\"\n      :length=\"pageCount\"\n      @input=\"onPageChange\"\n    >\n    </v-pagination>\n  </template>\n</v-data-iterator>\n</template>\n\n<script>\n// @ is an alias to /src\nimport axios from 'axios';\n//axios.defaults.params = {}\nexport default {\n  name: 'news',\n  components: {\n  },\n  data() {\n    return {\n      limit:10,\n      page: 1,\n      pageCount:0,\n      items: Array.from({ length: 15 }, (k, v) => ({\n        title: 'Item ' + v + 1,\n        text: 'Lorem ipsum dolor sit amet consectetur adipisicing elit. Commodi, ratione debitis quis est labore voluptatibus! Eaque cupiditate minima, at placeat totam, magni doloremque veniam neque porro libero rerum unde voluptatem!',\n      }))\n    }\n  },\n  computed: {\n\n  },\n  mounted() {\n    this.getNewsList();\n  },\n  methods: {\n    async getNewsList(limit, page) {\n      this.isLoading = true;\n      let totalPages = this.totalItems / limit - 1;\n      if (page > totalPages) {\n        page--;\n      }\n      try {\n          const response = await axios.get('http://172.19.110.3/marso.test/rest/getlist/', {\n            params: {\n                page: page,\n                limit: limit,\n            }\n          });\n          console.log(response.data.ITEMS);\n          this.items = response.data.items;\n          console.log(this.items);\n          this.totalItems = response.data.total_count;\n      } catch (e) {\n          alert(e)\n      } finally {\n        this.isLoading = false;\n      }\n    },\n  }\n}\n\n</script>\n\n<style>\n</style>\n"],"mappings":";;;;;uBACAA,YAAA,CAgBkBC,0BAAA;IAhBAC,KAAK,EAAEC,KAAA,CAAAD,KAAK;IAAGE,IAAI,EAAED,KAAA,CAAAC;;IACpBC,OAAO,EAAAC,QAAA,CAEpB,CAA0B;MAFFJ;IAAK,Q,kBAC/BK,mBAAA,CAMWC,SAAA,QATfC,WAAA,CAI0BP,KAAK,EAJ/B,CAIcQ,IAAI,EAAEC,CAAC;2BAJrBJ,mBAAA,CAAAC,SAAA;QAAAI,GAAA,EAKYD;MAAC,IAEPE,YAAA,CAAmCC,iBAAA,EAAnCC,WAAA,CAAmC;QAPzCC,OAAA;MAAA,GAOsBN,IAAI,CAACO,GAAG,+B,0BACxBC,mBAAA,CAAI,qC;oCAENL,YAAA,CAKeM,uBAAA;MAfnBC,UAAA,EAWejB,KAAA,CAAAC,IAAI;MAXnB,uBAAAiB,MAAA,QAAAA,MAAA,MAAAC,MAAA,IAWenB,KAAA,CAAAC,IAAI,GAAAkB,MAAA;MACZC,MAAM,EAAEpB,KAAA,CAAAqB,SAAS;MACjBC,OAAK,EAAEC,IAAA,CAAAC;;IAbdC,CAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
{"ast":null,"code":"// @ is an alias to /src\nimport axios from 'axios';\n//axios.defaults.params = {}\nexport default {\n  name: 'news',\n  components: {},\n  data() {\n    return {\n      limit: 10,\n      page: 1,\n      pageCount: 0,\n      items: Array.from({\n        length: 15\n      }, (k, v) => ({\n        title: 'Item ' + v + 1,\n        text: 'Lorem ipsum dolor sit amet consectetur adipisicing elit. Commodi, ratione debitis quis est labore voluptatibus! Eaque cupiditate minima, at placeat totam, magni doloremque veniam neque porro libero rerum unde voluptatem!'\n      }))\n    };\n  },\n  computed: {},\n  mounted() {\n    this.getNewsList();\n  },\n  methods: {\n    async getNewsList(limit, page) {\n      this.isLoading = true;\n      let totalPages = this.totalItems / limit - 1;\n      if (page > totalPages) {\n        page--;\n      }\n      try {\n        const response = await axios.get('http://172.19.110.3/marso.test/rest/getlist/', {\n          params: {\n            page: page,\n            limit: limit\n          }\n        });\n        this.items = response.data.ITEMS;\n        console.log(this.items);\n        this.totalItems = response.data.total_count;\n      } catch (e) {\n        alert(e);\n      } finally {\n        this.isLoading = false;\n      }\n    }\n  }\n};","map":{"version":3,"names":["axios","name","components","data","limit","page","pageCount","items","Array","from","length","k","v","title","text","computed","mounted","getNewsList","methods","isLoading","totalPages","totalItems","response","get","params","ITEMS","console","log","total_count","e","alert"],"sources":["/home/bitrix/www/local/modules/marso.test/install/components/marso.test.news/templates/vue/app/src/App.vue"],"sourcesContent":["<template>\n  <v-card>\n    <v-data-iterator\n      :items=\"items\"\n      :items-per-page=\"6\"\n    >\n      <template v-slot:default=\"{ items }\">\n        <v-container class=\"pa-2\" fluid>\n          <v-row dense>\n            <v-col\n              v-for=\"item in items\"\n              :key=\"item.ID\"\n              cols=\"auto\"\n              md=\"4\"\n            >\n              <v-card class=\"pb-3\" border flat>\n\n                <v-list-item :subtitle=\"item.raw.DETAIL_TEXT\" class=\"mb-2\">\n                  <template v-slot:title>\n                    <strong class=\"text-h6 mb-2\">{{ item.raw.NAME }}</strong>\n                  </template>\n                </v-list-item>\n\n                <div class=\"d-flex justify-space-between px-4\">\n                  <v-btn\n                    class=\"text-none\"\n                    size=\"small\"\n                    text=\"Подробнее\"\n                    variant=\"flat\"\n                    border\n                  >\n                  </v-btn>\n                </div>\n              </v-card>\n            </v-col>\n          </v-row>\n        </v-container>\n      </template>\n\n      <template v-slot:footer=\"{ page, pageCount, prevPage, nextPage }\">\n        <div class=\"d-flex align-center justify-center pa-4\">\n          <v-btn\n            :disabled=\"page === 1\"\n            density=\"comfortable\"\n            icon=\"mdi-arrow-left\"\n            variant=\"tonal\"\n            rounded\n            @click=\"prevPage\"\n          ></v-btn>\n\n          <div class=\"mx-2 text-caption\">\n            Page {{ page }} of {{ pageCount }}\n          </div>\n\n          <v-btn\n            :disabled=\"page >= pageCount\"\n            density=\"comfortable\"\n            icon=\"mdi-arrow-right\"\n            variant=\"tonal\"\n            rounded\n            @click=\"nextPage\"\n          ></v-btn>\n        </div>\n      </template>\n    </v-data-iterator>\n  </v-card>\n</template>\n\n<script>\n// @ is an alias to /src\nimport axios from 'axios';\n//axios.defaults.params = {}\nexport default {\n  name: 'news',\n  components: {\n  },\n  data() {\n    return {\n      limit:10,\n      page: 1,\n      pageCount:0,\n      items: Array.from({ length: 15 }, (k, v) => ({\n        title: 'Item ' + v + 1,\n        text: 'Lorem ipsum dolor sit amet consectetur adipisicing elit. Commodi, ratione debitis quis est labore voluptatibus! Eaque cupiditate minima, at placeat totam, magni doloremque veniam neque porro libero rerum unde voluptatem!',\n      }))\n    }\n  },\n  computed: {\n\n  },\n  mounted() {\n    this.getNewsList();\n  },\n  methods: {\n    async getNewsList(limit, page) {\n      this.isLoading = true;\n      let totalPages = this.totalItems / limit - 1;\n      if (page > totalPages) {\n        page--;\n      }\n      try {\n          const response = await axios.get('http://172.19.110.3/marso.test/rest/getlist/', {\n            params: {\n                page: page,\n                limit: limit,\n            }\n          });\n          this.items = response.data.ITEMS;\n          console.log(this.items);\n          this.totalItems = response.data.total_count;\n      } catch (e) {\n          alert(e)\n      } finally {\n        this.isLoading = false;\n      }\n    },\n  }\n}\n\n</script>\n\n<style>\n</style>\n"],"mappings":"AAqEA;AACA,OAAOA,KAAI,MAAO,OAAO;AACzB;AACA,eAAe;EACbC,IAAI,EAAE,MAAM;EACZC,UAAU,EAAE,CACZ,CAAC;EACDC,IAAIA,CAAA,EAAG;IACL,OAAO;MACLC,KAAK,EAAC,EAAE;MACRC,IAAI,EAAE,CAAC;MACPC,SAAS,EAAC,CAAC;MACXC,KAAK,EAAEC,KAAK,CAACC,IAAI,CAAC;QAAEC,MAAM,EAAE;MAAG,CAAC,EAAE,CAACC,CAAC,EAAEC,CAAC,MAAM;QAC3CC,KAAK,EAAE,OAAM,GAAID,CAAA,GAAI,CAAC;QACtBE,IAAI,EAAE;MACR,CAAC,CAAC;IACJ;EACF,CAAC;EACDC,QAAQ,EAAE,CAEV,CAAC;EACDC,OAAOA,CAAA,EAAG;IACR,IAAI,CAACC,WAAW,CAAC,CAAC;EACpB,CAAC;EACDC,OAAO,EAAE;IACP,MAAMD,WAAWA,CAACb,KAAK,EAAEC,IAAI,EAAE;MAC7B,IAAI,CAACc,SAAQ,GAAI,IAAI;MACrB,IAAIC,UAAS,GAAI,IAAI,CAACC,UAAS,GAAIjB,KAAI,GAAI,CAAC;MAC5C,IAAIC,IAAG,GAAIe,UAAU,EAAE;QACrBf,IAAI,EAAE;MACR;MACA,IAAI;QACA,MAAMiB,QAAO,GAAI,MAAMtB,KAAK,CAACuB,GAAG,CAAC,8CAA8C,EAAE;UAC/EC,MAAM,EAAE;YACJnB,IAAI,EAAEA,IAAI;YACVD,KAAK,EAAEA;UACX;QACF,CAAC,CAAC;QACF,IAAI,CAACG,KAAI,GAAIe,QAAQ,CAACnB,IAAI,CAACsB,KAAK;QAChCC,OAAO,CAACC,GAAG,CAAC,IAAI,CAACpB,KAAK,CAAC;QACvB,IAAI,CAACc,UAAS,GAAIC,QAAQ,CAACnB,IAAI,CAACyB,WAAW;MAC/C,EAAE,OAAOC,CAAC,EAAE;QACRC,KAAK,CAACD,CAAC;MACX,UAAU;QACR,IAAI,CAACV,SAAQ,GAAI,KAAK;MACxB;IACF;EACF;AACF","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
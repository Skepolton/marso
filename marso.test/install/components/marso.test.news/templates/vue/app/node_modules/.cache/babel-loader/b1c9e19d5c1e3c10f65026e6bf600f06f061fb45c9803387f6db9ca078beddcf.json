{"ast":null,"code":"// @ is an alias to /src\nimport axios from 'axios';\n//axios.defaults.params = {}\nexport default {\n  name: 'news',\n  components: {},\n  data() {\n    return {\n      limit: 10,\n      page: 1,\n      pageCount: 0,\n      items: Array.from({\n        length: 15\n      }, (k, v) => ({\n        title: 'Item ' + v + 1,\n        text: 'Lorem ipsum dolor sit amet consectetur adipisicing elit. Commodi, ratione debitis quis est labore voluptatibus! Eaque cupiditate minima, at placeat totam, magni doloremque veniam neque porro libero rerum unde voluptatem!'\n      }))\n    };\n  },\n  computed: {},\n  mounted() {\n    this.getNewsList();\n  },\n  methods: {\n    async getNewsList(limit, page) {\n      this.isLoading = true;\n      let totalPages = this.totalItems / limit - 1;\n      if (page > totalPages) {\n        page--;\n      }\n      try {\n        const response = await axios.get('/marso.test/rest/getlist/', {\n          params: {\n            page: page,\n            limit: limit\n          }\n        });\n        this.items = response.data.items;\n        this.totalItems = response.data.total_count;\n      } catch (e) {\n        alert(e);\n      } finally {\n        this.isLoading = false;\n      }\n    }\n  }\n};","map":{"version":3,"names":["axios","name","components","data","limit","page","pageCount","items","Array","from","length","k","v","title","text","computed","mounted","getNewsList","methods","isLoading","totalPages","totalItems","response","get","params","total_count","e","alert"],"sources":["/home/bitrix/www/local/modules/marso.test/install/components/marso.test.news/templates/vue/app/src/App.vue"],"sourcesContent":["<template>\n<v-data-iterator :items=\"items\" :page=\"page\">\n  <template v-slot:default=\"{ items }\">\n    <template\n      v-for=\"(item, i) in items\"\n      :key=\"i\"\n    >\n      <v-card v-bind=\"item.raw\"></v-card>\n\n      <br>\n    </template>\n    <v-pagination\n      v-model=\"page\"\n      :length=\"pageCount\"\n      @input=\"onPageChange\"\n    >\n    </v-pagination>\n  </template>\n</v-data-iterator>\n</template>\n\n<script>\n// @ is an alias to /src\nimport axios from 'axios';\n//axios.defaults.params = {}\nexport default {\n  name: 'news',\n  components: {\n  },\n  data() {\n    return {\n      limit:10,\n      page: 1,\n      pageCount:0,\n      items: Array.from({ length: 15 }, (k, v) => ({\n        title: 'Item ' + v + 1,\n        text: 'Lorem ipsum dolor sit amet consectetur adipisicing elit. Commodi, ratione debitis quis est labore voluptatibus! Eaque cupiditate minima, at placeat totam, magni doloremque veniam neque porro libero rerum unde voluptatem!',\n      }))\n    }\n  },\n  computed: {\n\n  },\n  mounted() {\n    this.getNewsList();\n  },\n  methods: {\n    async getNewsList(limit, page) {\n      this.isLoading = true;\n      let totalPages = this.totalItems / limit - 1;\n      if (page > totalPages) {\n        page--;\n      }\n      try {\n          const response = await axios.get('/marso.test/rest/getlist/', {\n            params: {\n                page: page,\n                limit: limit,\n            }\n          });\n          this.items = response.data.items;\n          this.totalItems = response.data.total_count;\n      } catch (e) {\n          alert(e)\n      } finally {\n        this.isLoading = false;\n      }\n    },\n  }\n}\n\n</script>\n\n<style>\n</style>\n"],"mappings":"AAsBA;AACA,OAAOA,KAAI,MAAO,OAAO;AACzB;AACA,eAAe;EACbC,IAAI,EAAE,MAAM;EACZC,UAAU,EAAE,CACZ,CAAC;EACDC,IAAIA,CAAA,EAAG;IACL,OAAO;MACLC,KAAK,EAAC,EAAE;MACRC,IAAI,EAAE,CAAC;MACPC,SAAS,EAAC,CAAC;MACXC,KAAK,EAAEC,KAAK,CAACC,IAAI,CAAC;QAAEC,MAAM,EAAE;MAAG,CAAC,EAAE,CAACC,CAAC,EAAEC,CAAC,MAAM;QAC3CC,KAAK,EAAE,OAAM,GAAID,CAAA,GAAI,CAAC;QACtBE,IAAI,EAAE;MACR,CAAC,CAAC;IACJ;EACF,CAAC;EACDC,QAAQ,EAAE,CAEV,CAAC;EACDC,OAAOA,CAAA,EAAG;IACR,IAAI,CAACC,WAAW,CAAC,CAAC;EACpB,CAAC;EACDC,OAAO,EAAE;IACP,MAAMD,WAAWA,CAACb,KAAK,EAAEC,IAAI,EAAE;MAC7B,IAAI,CAACc,SAAQ,GAAI,IAAI;MACrB,IAAIC,UAAS,GAAI,IAAI,CAACC,UAAS,GAAIjB,KAAI,GAAI,CAAC;MAC5C,IAAIC,IAAG,GAAIe,UAAU,EAAE;QACrBf,IAAI,EAAE;MACR;MACA,IAAI;QACA,MAAMiB,QAAO,GAAI,MAAMtB,KAAK,CAACuB,GAAG,CAAC,2BAA2B,EAAE;UAC5DC,MAAM,EAAE;YACJnB,IAAI,EAAEA,IAAI;YACVD,KAAK,EAAEA;UACX;QACF,CAAC,CAAC;QACF,IAAI,CAACG,KAAI,GAAIe,QAAQ,CAACnB,IAAI,CAACI,KAAK;QAChC,IAAI,CAACc,UAAS,GAAIC,QAAQ,CAACnB,IAAI,CAACsB,WAAW;MAC/C,EAAE,OAAOC,CAAC,EAAE;QACRC,KAAK,CAACD,CAAC;MACX,UAAU;QACR,IAAI,CAACP,SAAQ,GAAI,KAAK;MACxB;IACF;EACF;AACF","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}